import{j as e}from"./ui-y-bLX9_f.js";import{u as s,F as a,a as r,b as t,c as n,d as i,e as o,t as l}from"./form-H9qvde6N.js";import{z as c}from"./utils-Dn-dWpL4.js";import{u as d,a as m,C as x,b as g,c as u,d as h,e as j,B as f,f as p,g as b}from"./index-_Z1qpR2A.js";import{I as v}from"./input-C1cZPFhz.js";import{a as N}from"./vendor-CEJmk-mZ.js";const y=c.object({username:c.string().min(3,"Nome de usuário deve ter pelo menos 3 caracteres"),password:c.string().min(6,"Senha deve ter pelo menos 6 caracteres")});function w(){const[c,w]=N.useState(!1),[k,S]=d(),{toast:C}=m(),z=s({resolver:l(y),defaultValues:{username:"",password:""}});return e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-black/95 p-4",children:e.jsxs(x,{className:"w-full max-w-md border-green-500/20 bg-black text-white",children:[e.jsxs(g,{className:"space-y-1",children:[e.jsx(u,{className:"text-2xl font-bold text-green-500",children:"Admin Login"}),e.jsx(h,{className:"text-gray-400",children:"Faça login para acessar a área de administração"})]}),e.jsx(j,{children:e.jsx(a,{...z,children:e.jsxs("form",{onSubmit:z.handleSubmit((async function(e){w(!0);try{const s=await b("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(s.ok)C({title:"Login realizado com sucesso",description:"Bem-vindo à área de administração"}),S("/admin");else{const e=await s.json();C({variant:"destructive",title:"Erro ao fazer login",description:e.message||"Falha na autenticação. Tente novamente."})}}catch(s){C({variant:"destructive",title:"Erro ao fazer login",description:"Ocorreu um erro ao tentar fazer login. Tente novamente."})}finally{w(!1)}})),className:"space-y-4",children:[e.jsx(r,{control:z.control,name:"username",render:({field:s})=>e.jsxs(t,{children:[e.jsx(n,{className:"text-gray-300",children:"Nome de Usuário"}),e.jsx(i,{children:e.jsx(v,{placeholder:"Digite seu nome de usuário",className:"border-green-500/20 bg-gray-900 text-white focus-visible:ring-green-500",...s})}),e.jsx(o,{className:"text-red-500"})]})}),e.jsx(r,{control:z.control,name:"password",render:({field:s})=>e.jsxs(t,{children:[e.jsx(n,{className:"text-gray-300",children:"Senha"}),e.jsx(i,{children:e.jsx(v,{type:"password",placeholder:"Digite sua senha",className:"border-green-500/20 bg-gray-900 text-white focus-visible:ring-green-500",...s})}),e.jsx(o,{className:"text-red-500"})]})}),e.jsx(f,{type:"submit",disabled:c,className:"w-full bg-green-600 hover:bg-green-700 text-white",children:c?"Entrando...":"Entrar"})]})})}),e.jsxs(p,{className:"flex justify-center space-x-2",children:[e.jsx(f,{variant:"link",className:"text-green-500 hover:text-green-400",onClick:()=>S("/"),children:"Voltar ao Portfólio"}),e.jsx(f,{variant:"link",className:"text-green-500 hover:text-green-400",onClick:()=>S("/setup"),children:"Configuração Inicial"})]})]})})}export{w as default};
