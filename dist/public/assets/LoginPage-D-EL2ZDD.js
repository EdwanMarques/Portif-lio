import{r as f,u as b,a as N,j as e,C as v,b as y,c as w,d as C,e as F,B as o,f as S,g as L}from"./index-CfFqY53g.js";import{u as k,F as E,a as d,b as m,c as x,d as g,e as u,t as T,z as i}from"./form-DHJoqhK_.js";import{I as h}from"./input-CeJG5A7o.js";const z=i.object({username:i.string().min(3,"Nome de usuário deve ter pelo menos 3 caracteres"),password:i.string().min(6,"Senha deve ter pelo menos 6 caracteres")});function P(){const[l,c]=f.useState(!1),[I,r]=b(),{toast:t}=N(),s=k({resolver:T(z),defaultValues:{username:"",password:""}});async function p(a){c(!0);try{const n=await L("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(n.ok)t({title:"Login realizado com sucesso",description:"Bem-vindo à área de administração"}),r("/admin");else{const j=await n.json();t({variant:"destructive",title:"Erro ao fazer login",description:j.message||"Falha na autenticação. Tente novamente."})}}catch{t({variant:"destructive",title:"Erro ao fazer login",description:"Ocorreu um erro ao tentar fazer login. Tente novamente."})}finally{c(!1)}}return e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-black/95 p-4",children:e.jsxs(v,{className:"w-full max-w-md border-green-500/20 bg-black text-white",children:[e.jsxs(y,{className:"space-y-1",children:[e.jsx(w,{className:"text-2xl font-bold text-green-500",children:"Admin Login"}),e.jsx(C,{className:"text-gray-400",children:"Faça login para acessar a área de administração"})]}),e.jsx(F,{children:e.jsx(E,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(p),className:"space-y-4",children:[e.jsx(d,{control:s.control,name:"username",render:({field:a})=>e.jsxs(m,{children:[e.jsx(x,{className:"text-gray-300",children:"Nome de Usuário"}),e.jsx(g,{children:e.jsx(h,{placeholder:"Digite seu nome de usuário",className:"border-green-500/20 bg-gray-900 text-white focus-visible:ring-green-500",...a})}),e.jsx(u,{className:"text-red-500"})]})}),e.jsx(d,{control:s.control,name:"password",render:({field:a})=>e.jsxs(m,{children:[e.jsx(x,{className:"text-gray-300",children:"Senha"}),e.jsx(g,{children:e.jsx(h,{type:"password",placeholder:"Digite sua senha",className:"border-green-500/20 bg-gray-900 text-white focus-visible:ring-green-500",...a})}),e.jsx(u,{className:"text-red-500"})]})}),e.jsx(o,{type:"submit",disabled:l,className:"w-full bg-green-600 hover:bg-green-700 text-white",children:l?"Entrando...":"Entrar"})]})})}),e.jsxs(S,{className:"flex justify-center space-x-2",children:[e.jsx(o,{variant:"link",className:"text-green-500 hover:text-green-400",onClick:()=>r("/"),children:"Voltar ao Portfólio"}),e.jsx(o,{variant:"link",className:"text-green-500 hover:text-green-400",onClick:()=>r("/setup"),children:"Configuração Inicial"})]})]})})}export{P as default};
